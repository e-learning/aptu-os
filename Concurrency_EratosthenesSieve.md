## Задание (7 баллов) ##

Разработать 2 программы, каждая из которых находит простые числа меньшие заданного (**N**), используя алгоритм "Решето Эратосфена":

  * однопоточная версия (имя исполняемого файла: **sieve\_unith**);
  * многопоточная версия (число потоков **M** задается при запуске) (имя исполняемого файла: **sieve\_multith**).

## Формат входных данных ##

  1. **Опциональный** флаг -p. Если он указан, то необходимо печатать найденные простые числа в стандартный поток вывода, иначе -- не печатать;
  1. N -- число (64bit), ограничивающее решето;
  1. M -- число потоков (помимо основного) **для многопоточной программы**.

### Примеры запуска ###

  * ./sieve\_unith 2000000 -- запуск однопоточной версии с поиском простых в интервале [1, 2000000) без печати найденных;
  * ./sieve\_unith -p 666 -- запуск однопоточной версии с поиском простых в интервале [1, 666) с выводом найденных простых чисел;
  * ./sieve\_multith 4000 5 -- запуск многопоточной версии, которой разрешено использовать **5** дополнительных потоков, для поиска простых чисел в интервале [1, 4000);
  * ./sieve\_multith -p 1234 8 -- запуск многопоточной версии, которой разрешено использовать **8** дополнительных потоков, для поиска простых чисел в интервале [1, 1234). Найденные числа должны быть напечатаны в стандартный поток вывода.

## Формат выходных данных ##

  * Если задан аргумент -p, то список найденных простых чисел.

## Обязательные условия ##

После написания программ необходимо решить следующие задачи:
  * найти оптимальное М для тестовой машины;
  * сравнить скорость выполнения однопоточной версии и многопоточной при М=1.

В каталоге с заданием должны быть 3 файла **REPORT**, **TASK1\_DATA** и **TASK2\_DATA**, в которых содержатся:

  1. _TASK1\_DATA_ -- данные в виде строк "M; N; время работы в миллисекундах". Данные изменяются следующим образом: при фиксированном М проводится несколько тестов с различными N, после чего изменяется М и проводятся тесты для тех же N. М изменяется в интервале от 1 до 20 включительно. Для М = 1 запускать следует ./sieve\_unith, в противном случае -- ./sieve\_multith. Все запуски следует производить в режиме без печати результата (-p отсутствует в списке аргументов).
  1. _TASK2\_DATA_ -- данные в виде строк "UNI | MULT; N; время работы в миллисекундах". UNI -- для запусков вида _./sieve\_unith N_; MULT -- для запусков вида _./sieve\_multith N 1_.
  1. _REPORT_ -- описание машины, на которой получены данные; объяснение полученных результатов.

## Доп. задания ##

  * Автоматизация поиска оптимального М (bash/python/whatever): +1 балл;

  * Автоматическая генерация экспериментов и графика зависимости времени выполнения от M и N (bash/python + gnuplot): +1 балл.

## Замечания ##

  * Реализация: C/C++ и pthreads;

  * все написанное при запуске без параметров должно выводить информацию о том, как им пользоваться (usage).